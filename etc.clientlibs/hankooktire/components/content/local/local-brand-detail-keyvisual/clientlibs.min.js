/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {

;// CONCATENATED MODULE: external "window"
const external_window_namespaceObject = window;
;// CONCATENATED MODULE: ./src/components/local/local-brand-detail-keyvisual/clientlibs/js/main.js
const LOADING_DURATION = 2;
const START_DELAY = .5;
const loading = {
    x1:0,
    x2:0
}
function main(){
    const $loading = document.getElementById('lbdk__loading')

    document.body.append($loading)
    
    external_window_namespaceObject.gsap.delayedCall(START_DELAY, ()=>{
        loadingComplete();
        scrollEvent()
    })
}
function loadingComplete() {
    external_window_namespaceObject.gsap.timeline({
        onUpdate:()=>{
            const clipPath = `polygon(${loading.x1}% 0%, 100% 0%, 100% 100%, ${loading.x2}% 100%)`;
            external_window_namespaceObject.gsap.set('.lbdk__loading', {webkitClipPath:clipPath});
        },
        onComplete:()=>{
            window.dispatchEvent(new Event('__LOADING_COMPLETE__'));
            document.querySelector('.lbdk__loading').remove();
        }
    })
        .to(loading, {x1:102, duration:LOADING_DURATION, ease:external_window_namespaceObject.Expo.easeInOut}, 0)
        .to(loading, {x2:101, duration:LOADING_DURATION, ease:external_window_namespaceObject.Expo.easeInOut}, LOADING_DURATION/20)
}
function scrollEvent(){
    external_window_namespaceObject.gsap.registerPlugin(ScrollTrigger);

    /*scrolltrigger X locomotive */
    window.locomotive.scrollTo( 0, 0, {duration:0} );
    window.locomotive.on('scroll', ScrollTrigger.update);

    ScrollTrigger.scrollerProxy("[data-scroll-container]", {
        scrollTop(value) {
            return arguments.length ? window.locomotive.scrollTo(value, 0, 0) : window.locomotive.scroll.instance.scroll.y;
        },
        getBoundingClientRect() {
            return { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight };
        },
        pinType: document.querySelector("[data-scroll-container]").style.transform ? "transform" : "fixed"
    });
    
    ScrollTrigger.addEventListener("refresh", () => window.locomotive.update());
    ScrollTrigger.refresh();

    external_window_namespaceObject.gsap.timeline({
        scrollTrigger: {
            trigger: '.lbdk__txt',
            scroller: '[data-scroll-container]',
            start: 'top 90%',
            end: 'top 50%',
            scrub: .0001,
            invalidateOnRefresh: true,}
    })
        .fromTo('.lbdk__txt p', {opacity:0}, {opacity:1, duration:1, ease:Linear.easeNone}, 0)
}
window.addEventListener('compFuncRun', main);
})();

// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
// extracted by mini-css-extract-plugin

})();

/******/ })()
;