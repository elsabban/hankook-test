/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
function main() {
  const $root = $('.ltdsr.ltdsrp');
  let $laccordH = $root.find('.l-accordion .l-accordion-h');
  let $accordTop = $root.find('.l-accordion .accordion-top');
  let $tab = $root.find('.l-accordion .tab');
  const $closePop = $('#view_review_all').find('.btn-close_search');

  $laccordH.on('click', function() {
    // alert(this);
    const $this = $(this);
    console.log($this.next());
    if($this.hasClass('active')) {
      $this.removeClass('active')
      $this.next().stop().slideUp(400, function() {
        window.locomotive && window.locomotive.update();
      });
    } else {
      $this.addClass('active')
      $this.next().stop().slideDown(400, function() {
        window.locomotive && window.locomotive.update();
      });
    }

      const $innerTab = document.querySelector('.ltdsr .tabs')
      const $activeBtn = document.querySelector('.ltdsr .tabs .tab.active');
      const btnWidth =  document.querySelector('.ltdsr .tabs .tab.active').clientWidth;
      const activeBtnPos = $activeBtn.getBoundingClientRect().x;
      const overflowPos = activeBtnPos + btnWidth - $innerTab.clientWidth;
      const scrollMoveTo = overflowPos + ( ($innerTab.clientWidth/2) - (btnWidth/2) )
      $innerTab.scrollTo(scrollMoveTo,0)


    return false;
  })

  $accordTop.on('click', function(e) {

    if(!e.target.classList.contains('btn--bg')) {
      const $this = $(this);
      if($this.hasClass('active')) {
        $this.removeClass('active')
        $this.next().stop().slideUp(400, function() {
          window.locomotive && window.locomotive.update();
        });
      } else {
        
        $this.parent().siblings().find('.accordion-top').removeClass('active');
        $this.parent().siblings().find('.accordion-body').stop().slideUp(400, function() {
          window.locomotive && window.locomotive.update();
        });
        $this.addClass('active')
        $this.next().stop().slideDown(400, function() {
          window.locomotive && window.locomotive.update();
        });
      }

      return false;
    }
  })

  $tab.on('click', function() {
    const $this = $(this);



    $this.addClass('active').siblings().removeClass('active');
    const href = $this.attr('href');

    const $tabBody = $(href);
    $tabBody.addClass('active').siblings().removeClass('active');

    window.locomotive && window.locomotive.update();


    const $innerTab = document.querySelector('.ltdsr .tabs')
    const $activeBtn = document.querySelector('.ltdsr .tabs .tab.active');
    const btnWidth =  document.querySelector('.ltdsr .tabs .tab.active').clientWidth;
    const activeBtnPos = $activeBtn.getBoundingClientRect().x;
    const overflowPos = activeBtnPos + btnWidth - $innerTab.clientWidth;
    const isRtl = document.querySelector('html').dir === "rtl";
          const scrollMoveTo = overflowPos + ( ($innerTab.clientWidth/2) - (btnWidth/2) )
          $innerTab.scrollTo(scrollMoveTo,0)




    return false;
  })

  if($closePop.length > 0) {
    $closePop.on('click', function(e) {
      window.closePop('view_review_all');
    })
  }


  



}
window.addEventListener('compFuncRun', main);
})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
// extracted by mini-css-extract-plugin

})();

/******/ })()
;
$(document).ready(function() {
    //chkShowMore();
    $('.pop_inner .btn-wrap .btn--plus').on('click', function (){
        callListReview();
    });
});
function chkShowMore(){
    
    var reviewCnt = $('.review-list>li').length;
    
    if(reviewCnt < 5){
        $('.pop_inner .btn-wrap').hide();
    }
}
function callListReview(){
    
    var param = {};
    
    var comfort = $('#comfort').val();
    var fuelEfficiency = $('#fuelEfficiency').val();
    var mileage = $('#mileage').val();
    var speedDriving = $('#speedDriving').val();
    
    param.cnt = $('.review-list>li').length;
    param.siteCd = $('#siteCd').val();
    param.vehicleType = $('#vehicleType').val();
    param.seq = $('#seq').val();
    
    var html = "";
    
    // $.ajax({
    //     url : "/wsvc/api/local/specreview/list",
    //     type : "POST",
    //     dataType : "json",
    //     data : param,
    //     success : function (data){
    //         if(data.resultCode == "0000"){
    //             if(data.data.length < 5){
    //                 $('.pop_inner .btn-wrap').hide();
    //             }
    //             $.each(data.data, function(i, item){
                    
    //                 var eval_item = (!item.EVAL_ITEM) ? "" : item.EVAL_ITEM;
    //                 var car_maker = (!item.CAR_MAKER) ? "" : item.CAR_MAKER;
    //                 var car_model_det = (!item.CAR_MODEL_DET) ? "" : item.CAR_MODEL_DET;
    //                 var car_model = (!item.CAR_MODEL) ? "" : item.CAR_MODEL;
    //                 var mbr_nm = (!item.MBR_NM) ? "" : item.MBR_NM;
    //                 var dtime = (!item.SYS_REG_DTIME) ? "" : item.SYS_REG_DTIME;
    //                 var gdas_cont = (!item.GDAS_CONT) ? "" : item.GDAS_CONT;
    //                 var eval_item1 = (!item.EVAL_ITEM1) ? "" : item.EVAL_ITEM1;
    //                 var eval_item2 = (!item.EVAL_ITEM2) ? "" : item.EVAL_ITEM2;
    //                 var eval_item3 = (!item.EVAL_ITEM3) ? "" : item.EVAL_ITEM3;
    //                 var eval_item4 = (!item.EVAL_ITEM4) ? "" : item.EVAL_ITEM4;
                    
                    
                    
    //                 html += '<li class="review-item">';
    //                 html += '   <div class="score-as-star">';
    //                 html += '       <span class="review-score font_body_3_main">'+eval_item+'<span class="total-score"></span></span>';
    //                 html += '       <div class="star" data-rating="'+eval_item+'"></div>';
    //                 html += '   </div>';
    //                 html += '   <div class="review-desc">';
    //                 html += '       <div class="review-product">';
    //                 html += '           <span class="dimmed font_caption_main">'+car_maker+' '+car_model_det+' '+car_model+'</span>';
    //                 html += '       </div>';
    //                 html += '       <div class="review-info font_caption_main">';
    //                 html += '           <span class="reviewer">'+mbr_nm+'</span>';
    //                 html += '           <span class="review-date">'+dtime+'</span>';
    //                 html += '       </div>';
    //                 html += '       <div class="review-text">';
    //                 html += '           <p class="font_body_3_main">'+gdas_cont+' </p>';
    //                 html += '       </div>';
    //                 html += '       <div class="review-score">';
    //                 html += '           <ul class="score-list font_caption_main">';
    //                 html += '               <li class="review-sort">'+comfort+'<span class="review-sort-score">'+eval_item1+'</span></li>';
    //                 html += '               <li class="review-sort">'+fuelEfficiency+'<span class="review-sort-score">'+eval_item2+'</span></li>';
    //                 html += '               <li class="review-sort">'+mileage+'<span class="review-sort-score">'+eval_item3+'</span></li>';
    //                 html += '               <li class="review-sort">'+speedDriving+'<span class="review-sort-score">'+eval_item4+'</span></li>';
    //                 html += '           </ul>';
    //                 html += '       </div>';
    //                 html += '   </div>';
    //                 html += '</li>';
    //             });
    //             $('.review-list').append(html);
    //         }else{
    //             console.log(data);
    //         }
    //     } 
    // });
}
