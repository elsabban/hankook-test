/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {

// import Swiper from "swiper";
function main() {
  const $menu = $('.gmcl-menu');
  const $select = document.getElementById('gmcl-select');
  // let menuText = 'all';
  // let tagText = '';
  // var $gmclCateContainer = document.querySelector(".gmcl-cate-container")
  // var $gmclCateTab = $gmclCateContainer.querySelector(".cate-block-box")
  // var $gmclCateblur = $gmclCateContainer.querySelector(".tab-block-blur")
  // var $gmclCateTabInner = document.querySelector(".tab-inner")
  var $gmclContainer = document.querySelector(".gmcl-container")
  // var $gmclMoreBtn = document.querySelector(".gmcl-more-btn")

  var $headerHeight;
  var $outlink,
  isOutlink;
  var $selectType;
  var $gmclTabWidth = 0,
    $gmclTabGap;
  var $type;

  // const initialNum = 16
  // const addLength = 8
  // var currentShow = initialNum  
  
  document.body.appendChild($select)
  // changeTabmenu();
  // showMoreList();
  // mobSelectMenu();
  initScroll();
  // selectTab() 
  // noData();

  // if(document.querySelectorAll('.gmcl-list__item').length <= initialNum){
  //   $gmclMoreBtn.style.display = 'none';
  // } else{
  //   $gmclMoreBtn.style.display = 'flex';
  // }

  // if(document.querySelector(".outlink[data-outlink]")) {
  //   $outlink = document.querySelector(".outlink[data-outlink]")
  //   isOutlink = true
  // }

  // if(document.getElementById("gmcl-type-select")){
  //   $selectType = document.getElementById("gmcl-type-select")
  //   setSortType()
  // }

  // window.addEventListener('resize', () => {
  //   requestAnimationFrame(setTab)
  // }, false)
  // setTab()  
  
  // $('.gmcl-list__item').addClass('current');
  // limitCountList();

  // function selectTab(){
  //   var $cateString = new URLSearchParams(location.search).get("cate")

  //   if($cateString){
  //     $(".gmcl-cate-container .btn-tab .cate").each(function(i){
  //       var $cataName = $(this).text().replaceAll(" ","").replaceAll("&","n").toLowerCase()

  //       if($cateString === $cataName){
  //         $(this).trigger("click")
  //         history.replaceState({}, null, location.pathname)
  //       }
  //     })
  //   }
  // }

  // function setTab() {
  //   // sortTab();
  //   gridLayout($type);
  //   window.locomotive.update()


  //   if(isOutlink) {
  //     $gmclCateblur.style.right = $outlink.clientWidth + "px"
  //   }else{
  //     $gmclCateblur.style.right = "0px"
  //   }

  //   $gmclTabWidth = 0
  //   $gmclTabGap = $(".gmcl .btn-tab").css("margin-right").replace("px","")


  //   if($selectType){
  //     if($gmclCateTabInner.clientWidth + $selectType.clientWidth >= $gmclCateContainer.clientWidth){
  //       $gmclCateContainer.classList.add("over")
  //     }else{
  //       $gmclCateContainer.classList.remove("over")
  //     }
  //   }
    
  //   $(".gmcl .tab-inner .btn-tab").each(function(){
  //     $gmclTabWidth += $(this).width()
  //   })
    
  //   $gmclCateTabInner.style.width = $gmclTabWidth + $gmclTabGap * ($(".gmcl .btn-tab").length + 1) + "px"

  //   if($gmclCateTab.clientWidth < $gmclCateTabInner.clientWidth){
  //     $gmclCateTab.classList.add("over")
  //   }else{
  //     $gmclCateTab.classList.remove("over")
  //   }
  // }
  
  // function changeTabmenu() {
  //   $('.gmcl-cate-container button.cateTap.cateTap').on('click', function () {
  //     const self = $(this);

  //     if ($(this).hasClass('active')) return;
  //     if ($(this).hasClass('outlink')){
  //       location.href =  $(this).data("outlink")
  //       return
  //     }
      
  //     if(document.getElementById("gmcl-type-select")){
  //       initialSortType()
  //     }

  //     menuText = self.data('case') ? self.data('case') : self.find(".cate").text().toLowerCase();
  //     $('.gmcl-list__item').addClass('hidden');
      
  //     $('.gmcl-cate-container button.cateTap').removeClass('active');
  //     $(this).addClass('active');

      


  //     sortTab();
  //     limitCountList();
  //     noData();
  //     hideMoreBtn()
  //     console.log(menuText)

  //     $('#gmcl-select .ready .btn').text(self.text())

  //     window.locomotive.scrollTo('[data-scroll-container]',{
  //       callback: function(){
  //         window.locomotive.update()
  //       }
  //     })
  //   })
  // }

  // function mobSelectMenu() {
  //   $('#gmcl-select .drop-box button').on('click', function() {
  //     const idx = $(this).index();
  //     $('.gmcl-cate-container .tab-inner button').eq(idx).trigger('click');
  //   })
  // }

  function initScroll() {
    window.locomotive.on('scroll', function() {
      $headerHeight = document.querySelector("header").clientHeight

      if($gmclContainer.getBoundingClientRect().top < 0){
        if ($('#header').hasClass('up')) $select.style.paddingTop = $headerHeight + 20 + "px"
        else $select.style.paddingTop = "20px"
        $select.classList.add('is-active');
      }else{
        $select.classList.remove("is-active")
      }
    })
  }
  
  // function limitCountList() {
  //   $('.gmcl-list__item.current:not(.type-hidden)').each(function (i) {
  //     if (i >= currentShow) {
  //       $(this).addClass('hidden');
  //     }else{
  //       $(this).removeClass('hidden');
  //     }
  //   })

  //   gridLayout($type);
  //   window.locomotive.update()
  // }

  // function hideMoreBtn(){
  //   if($('.gmcl-list__item.current:not(.type-hidden).hidden').length <= 0){
  //     $gmclMoreBtn.style.display = 'none'
  //     return
  //   }
  //   if($('.gmcl-list__item.current:not(.type-hidden).hidden').length <= currentShow && $('.gmcl-list__item.current').length <= currentShow){
  //     $gmclMoreBtn.style.display = 'none'
  //   }else{
  //     $gmclMoreBtn.style.display = 'flex'
  //   }
  // }

  // function showMoreList() {
  //   $('.gmcl-list .btn').on('click', function () {
  //     currentShow += addLength
  //     limitCountList()
  //     hideMoreBtn()
  //     gridLayout($type);
  //     window.locomotive.update()
  //   })
  // }

  // function sortTab() {
  //   currentShow = initialNum
  //   $('.gmcl-list__item').removeClass('current')
  //   $('.gmcl-list .tags').each(function(){
  //     $(this).find('li').each(function(){
  //       tagText = $(this).text().replace('#', '').toLowerCase();
  //       if (menuText === 'all') {
  //         $('.gmcl-list__item').removeClass('hidden').addClass("current");
  //       } else if (menuText === tagText) {
  //         $(this).closest('.gmcl-list__item').removeClass('hidden').addClass("current");
  //       }
  //     })
  //   })
  // }

  // function initialSortType(){
  //   if($selectType) {
  //     $selectType.querySelectorAll(".drop-box button")[0].click()
  //     $type = 'all'
  //   }
  // }
  
  // function setSortType(){
  //   $selectType.querySelectorAll(".drop-box button").forEach(function(el){
  //     el.removeEventListener("click",function(){})
  //     el.addEventListener("click",function(){
  //       $type = el.dataset.case.toLowerCase()
  //       $selectType.querySelector(".base").dataset.case = $type

  //       if ($type === 'all') {
  //         $('.gmcl-list__item').removeClass('type-hidden')
  //         limitCountList();
  //         gridLayout($type)
  //         noData(true)
  //         window.locomotive.update()
  //         return
  //       } else{
  //         // 여기가 문제인 것 같음.
  //         $('.gmcl-list__item.current').addClass('type-hidden')
  //         $('.gmcl-list__item.current[data-post-type='+ $type + ']').removeClass('type-hidden').removeClass('hidden')
  //         limitCountList();
  //         gridLayout($type)
  //         noData(true)
  //         window.locomotive.update()
  //       }
  //     })
  //   })   
  // }

  // function gridLayout($type) {
  //   if(!$type || $type == 'all'){
  //     $type = ''
  //   }else{
  //     $type = '[data-post-type='+ $type + ']'
  //   }

  //   $('.gmcl-list__item').removeClass('sm');
  //   $('.gmcl-list__item' + $type + ':not(.hidden)').each(function (i) {
      
  //     if (window.innerWidth < 767) {
  //       if (i !== 0) {
  //         $(this).addClass('sm')
  //       }
  //     } else {
  //       if (i % 8 === 2 || i % 8 === 3 || i % 8 === 4 || i % 8 === 5 || i % 8 === 6 || i % 8 === 7 || i % 8 === 8) {
  //         $(this).addClass('sm')
  //       }
  //     }
  //   })
  // }

  // function noData(type) {
  //   if(type){
      
  //     if ($('.gmcl-list__item.current').length - $('.gmcl-list__item.current.type-hidden').length <= 0) {
  //       $('.gmcl-list .no_data').addClass('is-active');
  //       $menu.css('transform', `translateY(0)`);
  //       // $('.gmcl-list .btn').css('display', 'none');
  //       return
  //     } else {
  //       $('.gmcl-list .no_data').removeClass('is-active');
  //       // $('.gmcl-list .btn').css('display', 'block');
  //       return
  //     }

  //   }
  //   if ($('.gmcl-list__item:not(.hidden)').length <= 0) {
  //     $('.gmcl-list .no_data').addClass('is-active');
  //     $menu.css('transform', `translateY(0)`);
  //     // $('.gmcl-list .btn').css('display', 'none');
  //   } else {
  //     $('.gmcl-list .no_data').removeClass('is-active');
  //     // $('.gmcl-list .btn').css('display', 'block');
  //   }
  // }
}
window.addEventListener('compFuncRun', main);
})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
// extracted by mini-css-extract-plugin

})();

/******/ })()
;
const mediaIsPublish = $(".gmcl").data("ispublish");

$(function(){

    var $type;
    
    const $select = $('#gmcl-select');

    $('.gmcl-list__item').addClass('current');  
    gridLayout($type);
    
    if($('.gmcl-list').data('total') > 16){
        $(".gmcl-more-btn").css("display", "flex"); 
    }else{
        $(".gmcl-more-btn").css("display", "none");
    }
    
    //show more 버튼 클릭 
    $('.gmcl-more-btn').unbind("click").bind("click",function(){
        var btnType = 'show';
        var caseTemp = '';
        if($('.base.selected').length == 1){           
            caseTemp = $('.base.selected')[0].innerText.toLowerCase();
        }else{
            caseTemp = '';
        }
        $('.contents button').each(function(){
            if(caseTemp == $(this)[0].innerText.toLowerCase()){
                caseTemp = $(this).data('case');
            }
        });
        
        callListAjax(btnType, caseTemp);
    });
   
    //tab 클릭시 
    $('.gmcl-cate-container button.cateTap.cateTap').on('click', function () {
        window.locomotive.scrollTo('[data-scroll-container]',{
                callback: function(){
                window.locomotive.update()
            }
        })
        const self = $(this);  
        $('.btn.base.selected').text($('.contents>button>span')[0].innerText);
        $('.selectCategory').siblings('button').text(self[0].innerText);
        var btnType = 'tabContents';
        $('.gmcl-cate-container button.cateTap').removeClass('active');
        $(this).addClass('active');         
        callListAjax(btnType, '');         
    });
    
    //image,video filter 클릭 
    $('.contents button').on('click', function () {
        var btnType = 'tabContents';
        var caseTemp = $(this).data('case');
        callListAjax(btnType, caseTemp);      
    });    
    
    //center category 클릭시 
    $('.selectCategory button').on('click', function () {
        $('.gmcl-cate-container button.cateTap.cateTap.'+$(this)[0].innerText).click();
    });      
});
function callListAjax(btnType, caseTemp){
    // if(btnType != 'show'){
    //     $('.gmcl-list__list').empty();
    // }
    // var $type;
    // var param = {};
    // param.startNum = $('.gmcl-list__list>li').length;
    // param.siteCd = $('#siteCd').val();
    // param.url = $('#url').val();
    // param.btnType = btnType;
    // param.tabCode = $('.gmcl-cate-container button.cateTap.active .cate').data('tabcode');
    // param.caseTemp = caseTemp;
    // var html="";
    // $.ajax({
    //     url : "/wsvc/api/global/mediacenter/list",
    //     type: "POST",
    //     data : param,
    //     dataType : "json",
    //     success : function (data) {
    //         if(data.resultCode == "0000"){
    //             if(data.data.length == 0){
    //                 $('.gmcl-list').data('total', 0);
    //                 $('.no_data.font_body_1_main').addClass('is-active');
    //             }else{
    //                 $('.no_data.font_body_1_main').removeClass('is-active');
    //             }
    //             $.each(data.data, function(i, item){
    //                 if(i==0) $('.gmcl-list').data('total', item.TOTAL_COUNT);
                    
    //                 var imgType = "";
                    
    //                 if (item.THUMB_TYPE != null) {
    //                     if(item.THUMB_TYPE == "H") {
    //                         imgType = "sm";
    //                     } else if (item.THUMB_TYPE == "V") {
    //                         imgType = "lg";
    //                     } else {
    //                         imgType = "md";
    //                     }
    //                 } else {
    //                     imgType = "md";
    //                 }                        
                    
    //                 html += '<li class="gmcl-list__item gmcl-list__item--'+item.CONTENT_SIZE+'" data-post-type="'+(item.MEDIA_TYPE_CD=="1" ? "post" : "video")+'">';
    //                 html += '    <a href="'+getExternalLink(item.DETAIL_URL)+'">';
    //                 html += '        <div class="thumb thumb--'+imgType+'">';
    //                 html += '            <img src="'+item.THUMB_IMG+'" alt="'+item.TITLE+'">';
    //                 html += '        </div>';                        
    //                 html += '        <ul class="tags">';
    //                 html += '            <li>'+item.CATEGORY_NM+'</li>';
    //                 html += '        </ul>';
    //                 html += '        <h2 class="tit font_body_1">'+item.TITLE+'</h2>';
    //                 html += '        <p class="date font_caption_main">'+item.DATE+'</p>';
    //                 html += '    </a>';
    //                 html += '</li>';
    //             });
                
    //             $('.gmcl-list__list').append(html);
    //             $('.gmcl-list__item').addClass('current');  
    //             gridLayout($type);
                
    //             if ($('.gmcl-list').data('total') == $('.gmcl-list__list>li').length){
    //                 $(".gmcl-more-btn").css("display", "none"); 
    //             }else{
    //                 $(".gmcl-more-btn").css("display", "flex"); 
    //             }
    //             window.locomotive.update();
    //         }else{
    //             console.log(data);  
    //         }
    //      },
    //      error : function (xhr,status,error) {
    //          console.log(xhr);
    //          console.log(status);
    //          console.log(error);
    //      }
    //  });        
};
function getExternalLink(path) {
    if (path != "") {
        if (mediaIsPublish == true && path.indexOf("/content/hankooktire") > -1 ) {
          path = path.replace("/content/hankooktire", "");
        }
        if(!path.endsWith(".html")) {
            path += ".html";
        }
    } 
    return path;
}    

  function gridLayout($type) {
    if(!$type || $type == 'all'){
      $type = ''
    }else{
      $type = '[data-post-type='+ $type + ']'
    }

    $('.gmcl-list__item').removeClass('sm');
    $('.gmcl-list__item' + $type + ':not(.hidden)').each(function (i) {
      
      if (window.innerWidth < 767) {
        if (i !== 0) {
          $(this).addClass('sm')
        }
      } else {
        if (i % 8 === 2 || i % 8 === 3 || i % 8 === 4 || i % 8 === 5 || i % 8 === 6 || i % 8 === 7 || i % 8 === 8) {
          $(this).addClass('sm')
        }
      }
    })
  }    
